<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <link href="https://fonts.googleapis.com/css?family=Chivo:900" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <title>Ateoa</title>
</head>

<body>
    <div id="main_content">
        <section class="chart" style="width:100%; height: 100vh;">
            <canvas id="content_id" width="400" height="300"></canvas>
        </section>
    </div>
</body>
<script type="text/javascript">
function draw(){
  var canvas = document.getElementById('content_id');
  if (!canvas.getContext) return;
  var ctx = canvas.getContext("2d");
  let row = 6;
  let rowUnit = 255 / row;
  let column = 8;
  let columnunit = 255 / column;
  for (var i = 0; i < row; i++){
    for (var j = 0; j < column; j++){
        // strokeStyle/strokeRect fillStyle/fillRect
      ctx.strokeStyle = 'rgb(' + Math.floor(255 - rowUnit * i) + ',' +
        Math.floor(255 - columnunit * j) + ',0)';
      ctx.strokeRect(j * 50, i * 50, 40, 40);
    }
  }
}
draw();
adjustSize();


function getAdjustments(wrapDom, padding, contentWidth, contentHeight) {

    let scaleRatio = 1;
    let postionTop = padding;
    let postionLeft = padding;

    let chartWidth = wrapDom.clientWidth - padding * 2;
    let chartHeight = wrapDom.clientHeight - padding * 2;
    if (contentWidth / contentHeight - chartWidth / chartHeight > 0) {
        // width
        scaleRatio = chartWidth / contentWidth;
        postionTop = (wrapDom.clientHeight - contentHeight * scaleRatio ) / 2;
    }
    else {
        // height
        scaleRatio = chartHeight / contentHeight;
        postionLeft = (wrapDom.clientWidth - contentWidth * scaleRatio ) / 2;
    }

    return {
        "scaleRatio" : scaleRatio,
        "postionTop" : postionTop,
        "postionLeft" : postionLeft
    }
}

function adjustSize() {

    let wrapDom = document.getElementsByClassName("chart")[0];
    wrapDom.style.boxSizing = "border-box";
    wrapDom.style.background = "rgba(0,0,0,0.8)";
    wrapDom.style.position = "relative";

    let adjustments = getAdjustments(wrapDom, 32, 400, 300);
    let dom = document.getElementById("content_id");
    dom.style.position = "absolute";
    dom.style.transformOrigin = "0 0";
    dom.style.transform = "scale(" + adjustments.scaleRatio + ")";
    dom.style.top = adjustments.postionTop + "px";
    dom.style.left = adjustments.postionLeft + "px";
}

window.onresize = function () {
    adjustSize();
}
</script>
</html>